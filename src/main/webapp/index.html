<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="survey.css">
<link rel="stylesheet" href="./department.css">
<title>Student Form</title>
<link rel="stylesheet" href="jq/jquery-ui.min.css" type="text/css" />
<script src="./jquery/jquery-3.6.0.js"></script>
<script src="./jq/jquery-ui.min.js"></script>
<script>

	$(function() {
		$("reset").click(function() {
			$("#form")[0].reset()
		});

		
		$('#error').dialog({
            modal: true,
            autoOpen: false,
            width: 'auto',
            closeOnEscape: true,
            show: {
                effect: "blind",
                // duration: 1000,
            },
            buttons: [{
                text: "Close",
                click: function() {
                    $(this).dialog("close");
                }
            }],
            title: "Validation Failed"
        });
		function isDataValid(){
			var allNumbersString = document.getElementById("data").value;
            var splitted = allNumbersString.split(",");
            if (splitted.length >= 10) {
                for (var i = 0; i < splitted.length; i++) {
                    var numberString = splitted[i];
                    var number = parseInt(numberString);
                    if (typeof number != 'number') {
                        return true;
                        break;
                    } else {
                        if (number < 1 || number > 100) {
                            return true;
                            break;
                        } 
                    }
                }

            } else {
                return true;
            }
		}
		
		// Submit button click handler
		$("#form")
				.submit(
						function(event) {
							var errorMessage = "";

							var count = 0;
							if ($("#studentid").val() == ' '
								|| $("#address").val().match(
										/^[A-Za-z0-9_@]{3,8}$/) == null) {
							errorMessage += "<li>The studentId should be 3 to 8 characters long and contain only numeric,alphabets,underscore and @.</li>";
							count++;
						}
							var username = $("#username").val();
							// Name validation
							const alphabeticRegex = /^[A-Za-z]+$/;
							if (username == ' '
									|| username.match(alphabeticRegex) == null) {
								errorMessage += "<li>The Name text box should contain only Alphabets.</li>";
								count++;
							}
							// Address validation
							if ($("#address").val() == ' '
									|| $("#address").val().match(
											/^[ A-Za-z0-9]+$/) == null) {
								errorMessage += "<li>The address box should contain only numeric,alphabets or alphanumeric.</li>";
								count++;
							}
							// At least 2 checkboxes must be seleted
							if ($('input:checkbox').filter(':checked').length < 2) {
								errorMessage += "<li>Make sure at least two checkboxes are checked.</li>";
								count++;
							}
							// Radio button must be selected
							if ($("input[type = 'radio']:checked").length == 0) {
								errorMessage += "<li>Make sure at least one button is selected.</li>";
								count++;
							}
							// Email validation
							if (($("#email").val() == ' ' || $("#email")
									.val()
									.match(
											/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/) == null)) {
								errorMessage += "<li>Invalid email.</li>";
								count++;
							}
							if(isDataValid()){
								errorMessage += "<li>Enter at least 10 number in data field separated by comma.</li>";
							}
							// Show modal dialog if validation fails.
							if (count > 0) {
								$("#error").html(errorMessage);
								$('#error').dialog('open');
								event.preventDefault();
							}
							
						});
	});
</script>
</head>
<body>
	<div style="text-align: right; font-style: italic;">Riya Modi</div>
	<!-- computer science header -->
	<div class="w3-large">
		<h1>Computer Science Department</h1>
	</div>

	<!-- Survey form header action="processForm" method="post" id="form-->
	<h5 class="survey-form">Survey Form</h5>
	<form action="processForm" method="post" id="form"
		class=" w3-container w3-light-grey w3-text-black " autocomplete="on">
		<div id="error"></div>
		<!-- required field note  -->
		<div style="padding-bottom: 20px; font-weight: bold;">
			Note: <span class="required ">*</span> Required field
		</div>
		<div>
			<strong>StudentId: <span class="required">* </span>
			</strong> <input id="studentid" class="w3-text " name="studentid" autofocus
				type="text " size="25 " placeholder="student id " /> <br><span
				long</span>
		</div>
		<div>
			<strong>Username: <span class="required">*</span>
			</strong> <input id="username" class="w3-text " name="username" autofocus
				type="text " size="25 " placeholder="username " />
		</div>
		<div>
			<strong>Street address: <span class="required">*</span>
			</strong><br />
			<textarea id="address" name="address" rows="5 " cols="40 "
				placeholder="address"></textarea>
		</div>
		<div>
			<strong>City:</strong> <input name="city" type="text " size="25 "
				placeholder="city " />
		</div>
		<div>
			<strong>State:</strong> <input name="state" type="text " size="25 "
				placeholder="state " />

		</div>
		<div>
			<strong>Zip code:</strong> <input id="zip" name="zip" type="text "
				size="25 " placeholder="zip-code" />
			<!-- <span id="validateZip" class="invalidzip"></span> -->

		</div>
		<div>
			<strong>Telephone number:</strong> <input type="tel " id="telephone"
				name="telephone" placeholder="(###)-(###)-(####) " />

		</div>
		<div>
			<strong>Email:<span class="required ">*</span></strong> <input
				id="email" name="email" type="email" size="25 "
				placeholder="name@domain.com " />
		</div>
		<div>
			<strong>URL:</strong> <input name="url" type="url" size="25 "
				placeholder="https://www.name.com " />
		</div>
		<div>
			<strong>Date:</strong><input name="surveydate" type="date " size="25"
				placeholder="mm-dd-yyyy" />
		</div>

		<!-- checkboxes -->
		<p>
			<strong>What you liked most about the campus: <span
				class="required">*</span></strong><br /> <label> <input
				class="w3-check " name="campuslikes" type="checkbox"
				value="students " /> Students
			</label><br /> <label> <input class="w3-check " name="campuslikes"
				type="checkbox" value="location " /> Location
			</label><br /> <label> <input class="w3-check " name="campuslikes"
				type="checkbox" value="campus " /> Campus
			</label><br /> <label> <input class="w3-check " name="campuslikes"
				type="checkbox" value="atmosphere " /> Atmosphere
			</label><br /> <label> <input class="w3-check " name="campuslikes"
				type="checkbox" value="Dorm rooms " /> Dorm rooms
			</label><br /> <label> <input class="w3-check " name="campuslikes"
				type="checkbox" value="sports " /> Sports
			</label>
		</p>

		<!-- radio buttons  -->
		<p>
			<strong>How they became interested in the university: <span
				class="required">*</span></strong><br /> <label> <input
				id="radiobutton" class="w3-radio " name="interested" type="radio"
				value="friends " /> Friends
			</label><br /> <label><input id="radiobutton1" class="w3-radio "
				name="interested" type="radio" value="television " /> Television </label><br />

			<label><input id="radiobutton2" class="w3-radio "
				name="interested" type="radio" value="internet " /> Internet </label><br />

			<label><input id="radiobutton3" class="w3-radio "
				name="interested" type="radio" value="other " /> Other </label><br />
		</p>

		<!-- comment box -->
		<div>
			<strong>Comments: </strong></br>
			<textarea class=" w3-text " class="w3-textarea " name="notes"
				rows="5 " cols="40 " placeholder="notes "></textarea>
		</div>

		<!-- graduation month and year  -->
		<div style="padding-bottom: 20px;">
			<strong for="browser ">High-school garduation:</strong> <input list="months" name="gradmonth"
				id="gradmonth" placeholder="select month">
			<datalist id="months">
				<option value="January"></option>
				<option value="February"></option>
				<option value="March"></option>
				<option value="April"></option>
				<option value="May"></option>
				<option value="June"></option>
				<option value="July"></option>
				<option value="August"></option>
				<option value="September"></option>
				<option value="October"></option>
				<option value="November"></option>
				<option value="December"></option>
			</datalist>
			<input style="margin-left: 10px;" class=" " type="text"
				name="gradyear" placeholder="year" />
		</div>

		<!-- School recommendation  -->
		<div style="padding-bottom: 20px;">
			<strong> Recommend this school to other:
			</strong> <select name="recommend" id="recommend">
				<option value="Very Likely">Very Likely</option>
				<option value="Likely">Likely</option>
				<option value="Unlikely">Unlikely</option>
			</select>
		</div>

		<div style="padding-bottom: 20px;">
			<!-- onfocusout="doCalculations()" -->
			<strong> Data: (At least ten comma separated numbers)<span
				class="required">*</span></strong> <input id="data" class="w3-text"
				type="text" name="data" />
			<!-- <span id="dataerrors" class="invalidzip"></span> -->
		</div>

		<!-- <div style="padding-bottom: 20px;">
			<label>Maximum:</label>
			<output id="maximum" name="maximum"></output>
		</div>

		<div style="padding-bottom: 20px;">
			<label>Average:</label>
			<output id="average" name="average"></output>
		</div> -->

		<!-- submit and reset button -->
		<div style="padding-bottom: 20px;">
			<input id="submit" class=" w3-btn w3-large w3-gray" type="submit"
				name="submit" value="submit" /> <input id="reset"
				class=" w3-btn w3-large w3-gray " type="reset" name="reset"
				value="reset" />

		</div>

		


	</form>


</body>
</html>